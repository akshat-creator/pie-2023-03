<!DOCTYPE html>
<!--
            Photon by HTML5 UP
            html5up.net | @ajlkn
            Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
        -->
<html>
  <head>
    <title>Sprint III</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
  </head>
  <body class="is-preload">
    <section class="main style1">
      <div class="container">
        <header class="major special">
          <h2>Sprint III</h2>
        </header>
        <h3><b>Sprint Overview</b></h3>
        <p>
          The goal of Sprint III was to improve upon
          <a href="sprint2.html">Sprint II</a> by
        </p>
        <ul>
          <li>
            Allowing the user to monitor the sensor readings and change the
            schedules online using a React app and AWS services
          </li>
          <li>Building secure mounts for electronic components</li>
          <li>Improve waterproofing for water-contacting parts</li>
          <li>Making it aestherically pleasing</li>
        </ul>
        <h3><b>Mechanical Updates</b></h3>
        <p>
          From <a href="sprint2.html">Sprint II</a> to Sprint III, we updated
          where and how we were mounting our electrical equipment. In
          <a href="sprint2.html">Sprint II</a>, our electrical components were
          fixed to a wooden board that was then mounted to the side of our cart.
          Though this was a temporary solution, we decided that our electronics
          should be moved to a part of our cart above where water was flowing,
          to avoid any accidents. We created this mount, with open sides for
          easier wire access, for the top of our cart. The red standoffs are 3D
          printed in PLA, and the plates are laser cut clear acrylic. We liked
          the aesthetics of this design, where all electronics are visible.
        </p>
        <img width="20%" src="images/sprint3/esp-box.JPG" />

        <p>
          In <a href="sprint2.html">Sprint II</a>, we mounted the LED grow
          lights with an acrylic strip and zip ties. In this sprint, we improved
          the design of the LED mount by creating flower-shaped mounts which
          require less material and enhance the visual appearance of the cart.
        </p>
        <img style="width: 19%" src="images/sprint3/light-mount-flower.JPG" />
        <img style="width: 25%" src="images/sprint3/light-mount-compare.jpg" />

        <p>
          In order to mount the power box at the top of the cart, we modified
          the L-shaped hook from Sprint 1 to serve as a hook for an acrylic
          shelf. To secure the power box on the mount, we designed the shelf to
          be a shallow box, and we designed the acrylic box with finger joints
          and mortise/tenon joints so the acrylic box does not require
          fasteners. The acrylic box is fastened to the 3D-printed hook with 4
          bolts.
        </p>
        <img style="width: 25%" src="images/sprint3/PowerBoxMountRender1.JPG" />
        <h5><b>Reasons for Design</b></h5>
        <p>
          We wanted to design around having safe and neat electrical housing for
          this sprint, and refining a lot of the integration from the previous
          sprint. This in turn makes our design much more safe, but also more
          professional and fits with our goal of nice aesthetics.
        </p>

        <h3><b>Electrical Updates</b></h3>
        <p>
          Most of the electrical work in this sprint involved taking what we
          made in <a href="sprint2.html">Sprint II</a> and organizing it. The
          biggest task was transferring everything that was on the wooden board
          onto a protoboard and putting it on the ESP32.
        </p>
        <img style="width: 50%" src="images/sprint3/breadboard2esp.png" /><br />
        <p>
          After putting all the components on the ESP32, we can now store the
          entire circuit inside the case we made earlier.
        </p>
        <img width="22%" src="images/sprint3/esp32case.png" />
        <p>
          In terms of the electrical components in the circuit, nothing has
          changed from what we had for <a href="sprint2.html">Sprint II</a>
        </p>
        <img style="width: 50%" src="images/sprint3/sprint3_circuit.png" />

        <h3><b>Software Updates</b></h3>
        <p>
          As mentioned earlier, most of the software work this sprint involved
          improving user interface with the React app we created using AWS
          services. Shown below is our React App for user interaction.
        </p>
        <img style="width: 40%" src="images/sprint3/reactapp.png" />
        <p>
          When the sensors publish their readings through the AWS MQTT service,
          the readings are added to an AWS DynamoDB database. Then, the React
          app fetches the values in the database using a GraphQL API to display
          it on the web page as a graph.
        </p>
        <img style="width: 50%" src="images/sprint3/graphs.png" />
        <p>
          For changing the schedules, we used the same AWS MQTT service to
          publish a new schedule in json format to the ESP32. The json is then
          parsed to determine which actuator schedule to modify. Shown below is
          how the json is formatted for uploading a new schedule. <br />

          <b
            >{ <br />
            "target":"water_pump", <br />
            "startTime":"01:10:00", <br />
            "onInterval":"00:00:05", <br />
            "offInterval":"00:00:10" <br />
            } <br
          /></b>
          The command sent above would set the water pump to start at 1:10 am,
          and alternate between turning on for 5 seconds and turning off for 10
          seconds.
        </p>
        <ul class="actions">
          <li>
            <a
              href="https://github.com/dokyun-kim4/pie-droponics/tree/sprint-3"
              target="_blank"
              rel="noopener noreferrer"
              class="button primary"
              >View GitHub Repo</a
            >
          </li>
        </ul>

        <h3><b>Sprint Reflection</b></h3>
        <p>
          We ran into some issues with the stability of our components,
          especially when testing by pushing the cart over rough surfaces, but
          aside from the power tray, everything is stable with no modifications.
          We want to iterate in the try by super gluing it together between now
          and demo day.
        </p>
        <br /><br />
        <div style="text-align: center">
          <a href="index.html#our-journey" class="button">Back to Home</a>
        </div>
      </div>
    </section>
  </body>
</html>
